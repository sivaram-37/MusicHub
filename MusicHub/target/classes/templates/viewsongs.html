<!DOCTYPE html>
<html>
<head>
    <title>Display Songs</title>
    <link rel="stylesheet" type="text/css" href="/css/viewsongs.css">
</head>
<body>
	<div class="songpage">
	<div class="albumcover">
		
	</div>
	<div class="song-div">
    <table class="song-table">
        <thead>
            <tr>
                <th class="header">Tracks</th>
                <th class="header">Artists</th>
                <th class="header">Genre</th>
                <th class="header">Play</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="song : ${songs}">
                <td class="song-cell name-cell" th:text="${song.name}"></td>
                <td class="song-cell artist-cell" th:text="${song.artist}"></td>
                <td class="song-cell genre-cell" th:text="${song.genre}"></td>
                <td class="song-cell play-cell">
                    <button onclick="playSong('${song.name}', '${song.artist}', '${song.link}')">Play</button>
                </td>
            </tr>
        </tbody>
    </table>
    </div>
    </div>

    <div id="music-player" style="display: none;">
        <div class="song-info">
            <span id="current-song"></span>
        </div>
        <div class="controls">
            <button onclick="previousSong()">&#9664;</button>
            <button id="play-pause" onclick="togglePlayPause()">&#9654;</button>
            <button onclick="nextSong()">&#9654;&#9654;</button>
            <div id="volume-control">
                <button onclick="toggleMute()">ðŸ”Š</button>
                <input type="range" id="volume-slider" min="0" max="1" step="0.01" oninput="setVolume(this.value)">
            </div>
        </div>
    </div>

    <audio id="audio-player"></audio>

    <script>
        let songs = [
            /* Replace this with your song data */
            {name: 'Song 1', artist: 'Artist 1', link: 'song1.mp3'},
            {name: 'Song 2', artist: 'Artist 2', link: 'song2.mp3'},
            // Add more songs here
        ];
        let currentSongIndex = -1;

        function playSong(name, artist, link) {
            document.getElementById('music-player').style.display = 'flex';
            document.getElementById('current-song').textContent = `${name} - ${artist}`;
            const audioPlayer = document.getElementById('audio-player');
            audioPlayer.src = link;
            audioPlayer.play();
            document.getElementById('play-pause').textContent = '||';
            currentSongIndex = songs.findIndex(song => song.name === name && song.artist === artist);
        }

        function togglePlayPause() {
            const audioPlayer = document.getElementById('audio-player');
            if (audioPlayer.paused) {
                audioPlayer.play();
                document.getElementById('play-pause').textContent = '||';
            } else {
                audioPlayer.pause();
                document.getElementById('play-pause').textContent = '>';
            }
        }

        function previousSong() {
            if (currentSongIndex > 0) {
                currentSongIndex--;
                const song = songs[currentSongIndex];
                playSong(song.name, song.artist, song.link);
            }
        }

        function nextSong() {
            if (currentSongIndex < songs.length - 1) {
                currentSongIndex++;
                const song = songs[currentSongIndex];
                playSong(song.name, song.artist, song.link);
            }
        }

        function setVolume(value) {
            const audioPlayer = document.getElementById('audio-player');
            audioPlayer.volume = value;
        }

        function toggleMute() {
            const audioPlayer = document.getElementById('audio-player');
            const volumeButton = document.querySelector('#volume-control button');
            if (audioPlayer.muted) {
                audioPlayer.muted = false;
                volumeButton.textContent = 'ðŸ”Š';
            } else {
                audioPlayer.muted = true;
                volumeButton.textContent = 'ðŸ”‡';
            }
        }
    </script>
</body>
</html>
